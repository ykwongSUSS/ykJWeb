<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/ykJWeb/libs/highlight/styles/github.min.css"> <link rel=stylesheet  href="/ykJWeb/css/franklin.css"> <link rel=stylesheet  href="/ykJWeb/css/jemdoc.css"> <link rel=icon  href="/ykJWeb/assets/favicon.png"> <title>m2-DataFrames.md</title> <main class=outside > <div class=box > <aside class=layout-menu > <div class=menu-category >myJulia</div> <div class="menu-item "><a href="/ykJWeb/">Home</a></div> <div class="menu-item "><a href="/ykJWeb/pluto">Pluto</a></div> <div class="menu-item "><a href="/ykJWeb/franklin">Franklin</a></div> <div class=menu-category >Julia Code</div> <div class="menu-item "><a href="/ykJWeb/m1-RDatasets/">RDatasets</a></div> <div class="menu-item "><a href="/ykJWeb/m2-DataFrames/">DataFrames</a></div> <div class="menu-item "><a href="/ykJWeb/m3-Gadfly/">Gadfly</a></div> <div class="menu-item "><a href="/ykJWeb/m4-Projects/">Projects</a></div> </aside> <div class=layout-content > <div class=franklin-content > <h1 id=dataframes ><a href="#dataframes" class=header-anchor >DataFrames</a></h1> <div class=franklin-toc ><ol><li><a href="#data_entry">Data Entry</a><ol><li><a href="#manual_dataentry_by_arrays">manual DataEntry by Arrays</a><li><a href="#manual_dataentry_by_csvreadiobuffer">manual DataEntry by CSV.read&#40;IOBuffer&#41;</a></ol><li><a href="#import_csv_files">Import csv files </a><ol><li><a href="#using_csvread">using <code>CSV.read</code> </a></ol><li><a href="#sort_df">Sort df</a><ol><li><a href="#sort_df3_by_pgms_in_descending_order"><code>sort</code> df3 by pgms in descending order</a><li><a href="#eltype_for_dataframe">eltype for DataFrame</a></ol><li><a href="#rows_and_columns">Rows and Columns</a><ol><li><a href="#choose_rows_using_filter">choose rows using <code>filter</code></a><li><a href="#choose_rows_using_subset">choose rows using <code>subset</code></a><li><a href="#choose_columns_using_select">choose columns using <code>select</code></a></ol><li><a href="#transform">Transform</a><ol><li><a href="#add_new_column">add new column</a></ol></ol></div> <h2 id=data_entry ><a href="#data_entry" class=header-anchor >Data Entry</a></h2> <h3 id=manual_dataentry_by_arrays ><a href="#manual_dataentry_by_arrays" class=header-anchor >manual DataEntry by Arrays</a></h3> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Pkg
Pkg.add(<span class=hljs-string >&quot;DataFrames&quot;</span>)
<span class=hljs-keyword >using</span> DataFrames
A = [<span class=hljs-string >&quot;NSHD&quot;</span>,<span class=hljs-string >&quot;SHBS&quot;</span>,<span class=hljs-string >&quot;SBIZ&quot;</span>,<span class=hljs-string >&quot;SST&quot;</span>]
B = [<span class=hljs-number >25</span>,<span class=hljs-number >14</span>,<span class=hljs-number >23</span>,<span class=hljs-number >13</span>]
df = DataFrame(sch=A,pgms=B)</code></pre> <pre><code class="plaintext hljs">4×2 DataFrame
 Row │ sch     pgms
     │ String  Int64
─────┼───────────────
   1 │ NSHD       25
   2 │ SHBS       14
   3 │ SBIZ       23
   4 │ SST        13</code></pre> <h3 id=manual_dataentry_by_csvreadiobuffer ><a href="#manual_dataentry_by_csvreadiobuffer" class=header-anchor >manual DataEntry by CSV.read&#40;IOBuffer&#41;</a></h3> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> Pkg
Pkg.add(<span class=hljs-string >&quot;CSV&quot;</span>)
<span class=hljs-keyword >using</span> DataFrames, CSV
df1 = CSV.read(<span class=hljs-built_in >IOBuffer</span>(<span class=hljs-string >&quot;&quot;&quot;
sch, pgms
SBIZ, 12
NSHD,14
SHBS, 4
SST, 3
&quot;&quot;&quot;</span>),DataFrame, delim=<span class=hljs-string >&quot;,&quot;</span>,ignorerepeated=<span class=hljs-literal >true</span>)</code></pre> <pre><code class="plaintext hljs">4×2 DataFrame
 Row │ sch       pgms
     │ String7  Int64
─────┼────────────────
   1 │ SBIZ        12
   2 │ NSHD        14
   3 │ SHBS         4
   4 │ SST          3</code></pre> <h2 id=import_csv_files ><a href="#import_csv_files" class=header-anchor >Import csv files </a></h2> <h3 id=using_csvread ><a href="#using_csvread" class=header-anchor >using <code>CSV.read</code> </a></h3> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames, CSV
df2 = CSV.read(<span class=hljs-string >&quot;_assets/csv/SchPgms.csv&quot;</span>, DataFrame)</code></pre> <pre><code class="plaintext hljs">4×2 DataFrame
 Row │ sch      pgms
     │ String7  Int64
─────┼────────────────
   1 │ SBIZ        12
   2 │ NSHD        14
   3 │ SHBS         4
   4 │ SST          3</code></pre> <h2 id=sort_df ><a href="#sort_df" class=header-anchor >Sort df</a></h2> <h3 id=sort_df3_by_pgms_in_descending_order ><a href="#sort_df3_by_pgms_in_descending_order" class=header-anchor ><code>sort</code> df3 by pgms in descending order</a></h3> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames, CSV
df2 = CSV.read(<span class=hljs-string >&quot;_assets/csv/SchPgms.csv&quot;</span>, DataFrame)
df3 = sort(df2, :pgms, rev=<span class=hljs-literal >true</span>)</code></pre> <pre><code class="plaintext hljs">4×2 DataFrame
 Row │ sch      pgms
     │ String7  Int64
─────┼────────────────
   1 │ NSHD        14
   2 │ SBIZ        12
   3 │ SHBS         4
   4 │ SST          3</code></pre> <h3 id=eltype_for_dataframe ><a href="#eltype_for_dataframe" class=header-anchor >eltype for DataFrame</a></h3> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames, CSV
df2 = CSV.read(<span class=hljs-string >&quot;_assets/csv/SchPgms.csv&quot;</span>, DataFrame)
df3 = sort(df2,:pgms,rev=<span class=hljs-literal >true</span>)
eltype.(eachcol(df3))</code></pre> <pre><code class="plaintext hljs">2-element Vector{DataType}:
 InlineStrings.String7
 Int64</code></pre> <h2 id=rows_and_columns ><a href="#rows_and_columns" class=header-anchor >Rows and Columns</a></h2> <h3 id=choose_rows_using_filter ><a href="#choose_rows_using_filter" class=header-anchor >choose rows using <code>filter</code></a></h3> <p>&#40;&#42; special case: the df appears at the end&#41;</p> <pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames
filter(:sch =&gt; n -&gt; n==<span class=hljs-string >&quot;NSHD&quot;</span>,df3)</code></pre> <pre><code class="plaintext hljs">1×2 DataFrame
 Row │ sch      pgms
     │ String7  Int64
─────┼────────────────
   1 │ NSHD        14</code></pre> <h3 id=choose_rows_using_subset ><a href="#choose_rows_using_subset" class=header-anchor >choose rows using <code>subset</code></a></h3> <p>&#40;this is better, consistent df, consistent ByRow&#41;</p> <pre><code class="julia hljs">subset(df3, :sch =&gt; ByRow(==(<span class=hljs-string >&quot;SST&quot;</span>)))</code></pre>
<pre><code class="plaintext hljs">1×2 DataFrame
 Row │ sch      pgms
     │ String7  Int64
─────┼────────────────
   1 │ SST          3</code></pre>
<h3 id=choose_columns_using_select ><a href="#choose_columns_using_select" class=header-anchor >choose columns using <code>select</code></a></h3>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames
select(df3, :pgms)</code></pre>
<pre><code class="plaintext hljs">4×1 DataFrame
 Row │ pgms
     │ Int64
─────┼───────
   1 │    14
   2 │    12
   3 │     4
   4 │     3</code></pre>
<h2 id=transform ><a href="#transform" class=header-anchor >Transform</a></h2>
<h3 id=add_new_column ><a href="#add_new_column" class=header-anchor >add new column</a></h3>
<pre><code class="julia hljs"><span class=hljs-keyword >using</span> DataFrames
transform(df3, :, :pgms =&gt; ByRow(x -&gt; x+<span class=hljs-number >1</span>)=&gt;:pgmsAdd1)</code></pre>
<pre><code class="plaintext hljs">4×3 DataFrame
 Row │ sch      pgms   pgmsAdd1
     │ String7  Int64  Int64
─────┼──────────────────────────
   1 │ NSHD        14        15
   2 │ SBIZ        12        13
   3 │ SHBS         4         5
   4 │ SST          3         4</code></pre>
<div class=page-foot >
  Created by YueKee WONG.  Last modified: December 21, 2022. <br />

  Website built with
  <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the
  <a href="https://julialang.org">Julia programming language</a>.
</div>
</div>
        </div>
    
    
        <script src="/ykJWeb/libs/highlight/highlight.min.js"></script>
<script>hljs.highlightAll();hljs.configure({tabReplace: '    '});</script>

    
    </div>
  </main>